---
description: Obsidian RAG 시스템 사용 가이드
globs:
alwaysApply: true
---

## Obsidian RAG 시스템 아키텍처

### 전체 시스템 구조

```
옵시디언 문서 (Markdown)
    ↓
n8n 워크플로 (자동화 & API 레이어)
    ├─ OpenAI를 에이전트 인공지능으로 활용
    ├─ Supabase PostgreSQL을 채팅 메모리로 활용
    └─ Obsidian을 문서 데이터 베이스로 활용
         ↓
    외부 인터넷에서 n8n API를 통해 읽기/쓰기
         ↓
    Cursor/IDE (MCP 연결)
```

## 시스템 구성 요소

### 옵시디언 문서 레이어

- 형식: Markdown 파일 (.md)
- 역할: 문서 데이터베이스
- 특징: 구조화된 노트, 태그, 링크, 첨부파일

### n8n 워크플로 자동화 레이어

- OpenAI: 에이전트 인공지능으로 활용
- Supabase PostgreSQL: 채팅 메모리로 활용
- Obsidian: 문서 데이터베이스로 활용
- 기능:
  - 문서 읽기/쓰기 API 제공
  - 자동화된 워크플로우 실행
  - 외부 시스템과의 연동

## 에러 처리

- 워크플로우 비활성화: 워크플로우 활성화 상태를 확인하고 결과를 보고
- API 키 만료: 동작하지 않는 API 키를 식별하고 보고
- 웹훅 URL 오류: 워크플로우에서 정확한 웹훅 URL을 확인하고 보고
